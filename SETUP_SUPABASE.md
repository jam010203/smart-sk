# Supabase setup (account sync across all browsers)

When you use Supabase, accounts generated by an admin in **any browser** are stored in Supabase and sync everywhere. Users can sign in from any browser or device.

## 1. Create a Supabase project

1. Go to [supabase.com](https://supabase.com) and create a project.
2. In the dashboard: **Project settings** → **API** copy:
   - **Project URL** → use as `VITE_SUPABASE_URL`
   - **anon public** key → use as `VITE_SUPABASE_ANON_KEY`

## 2. Create the table and enable Realtime

In Supabase: **SQL Editor** → New query, paste and run:

```sql
-- Table for app config (generated accounts synced across all browsers)
create table if not exists public.app_config (
  id text primary key,
  data jsonb not null default '{}'
);

-- Enable Realtime so all browsers get updates when admin generates/edits accounts
alter publication supabase_realtime add table public.app_config;

comment on table public.app_config is 'App config; row id=generatedAccounts stores { accounts: [...], updatedAt }';
```

(If you see "table already in publication", you can ignore it.)

## 3. Set environment variables

In your project root create or edit `.env`:

```
VITE_SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

For Netlify/Vercel, add the same variables in the dashboard (Environment variables). Redeploy after adding them.

## 4. Run the app

```bash
npm run dev
```

- **Generate Account** (admin): new accounts are saved to Supabase and appear in **Manage User** and on the login page from **any browser**.
- Without Supabase env vars, accounts stay local to the browser (previous behavior).
